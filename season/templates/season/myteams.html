{% extends "base.html" %}
{% load static %}
{% load dict_extras %}

{% block content %}

{% include "season/_season_header.html" %}

<h5 class="mt-4">My Teams</h5>
{% if picks_data %}
<!-- Responsive Table -->
<div class="table-responsive">
    <table class="table small-font table-sm table-striped table-hover table-bordered align-middle text-center">
        <thead class="table-dark">
            <tr>
                <th>Team</th>
                <th>League</th>
                <th>Pick Type</th>
                <th>Pos</th>
                <th>Pl</th>
                <th>W</th>
                <th>D</th>
                <th>L</th>
                <th>Points</th>
                <th>Handicap</th>
                <th>Payouts</th>
                <th>League Rank</th>
            </tr>
        </thead>
        <tbody>
            {% for p in picks_data %}
            <tr>
                <td>{{ p.team.name }}</td>
                <td>{{ p.league }}</td>
                <td>{{ p.pick_type|title }}</td>
                <td>{{ p.position|default:"-" }}</td>
                <td>{{ p.played }}</td>
                <td>{{ p.won }}</td>
                <td>{{ p.drawn }}</td>
                <td>{{ p.lost }}</td>
                <td>{{ p.our_points|floatformat:2 }}</td>
                <td>{{ p.handicap }}</td>
                <td>Â£{{ p.payouts }}</td>
                <td>{{ p.league_rank|default:"-" }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% else %}
<p>No picks available yet.</p>
{% endif %}

{% endblock content %}
